# Datasheet for SmartPlayFPL Dataset

> Following the framework proposed by [Gebru et al. (2021)](https://arxiv.org/abs/1803.09010) - "Datasheets for Datasets"

---

## Motivation

### For what purpose was the dataset created?

SmartPlayFPL was created to provide a semantic knowledge graph representation of Fantasy Premier League (FPL) data. The purpose is to enable intelligent decision-making for FPL managers through:
- OWL-based reasoning for automatic player classification
- SPARQL queries for complex player discovery
- SHACL validation for squad constraint checking
- Provenance tracking for explainable recommendations

### Who created the dataset and on behalf of which entity?

- **Data Source**: Fantasy Premier League (owned by the Premier League)
- **Data Curator/Researcher**: Qazybek Beken, UC Berkeley · School of Information
- **Institution**: UC Berkeley, School of Information
- **Purpose**: Research demonstration of Semantic Web technologies (RDF, OWL, SHACL, SPARQL) applied to a real-world domain

Note: The underlying statistical data is generated by Fantasy Premier League managers and the Premier League. This dataset represents the curation, semantic enrichment, and knowledge graph transformation of that publicly available data.

### Who funded the creation of the dataset?

This dataset was created as a personal/academic project with no external funding.

---

## Composition

### What do the instances that comprise the dataset represent?

The dataset represents entities from Fantasy Premier League:

| Entity Type | Count | Description |
|-------------|-------|-------------|
| **Players** | 755 | Premier League footballers with stats |
| **Teams** | 20 | Premier League clubs |
| **Positions** | 4 | GKP, DEF, MID, FWD |
| **Smart Tags** | 12 | OWL-inferred player classifications |
| **Fixtures** | ~380 | Scheduled matches with difficulty ratings |

### How many instances are there in total?

- **Total RDF Triples**: ~23,003
- **Players**: 755
- **Teams**: 20
- **Inferred Classifications**: Variable (depends on current season data)

### Does the dataset contain all possible instances or is it a sample?

The dataset contains **all players** currently registered in the Fantasy Premier League for the 2024/25 season. It is not a sample - it is the complete population of FPL-eligible players.

### What data does each instance consist of?

**Player Entity Properties:**
```
- id (integer): Unique FPL identifier
- web_name (string): Display name
- first_name, second_name (string): Full name
- team (integer → Team): Club reference
- position (string): GKP/DEF/MID/FWD
- price (decimal): Current price in £millions
- form (decimal): Recent performance score (0-10)
- total_points (integer): Season points accumulated
- ownership (decimal): Percentage of managers owning
- status (string): a/d/i/s/u (availability)
- news (string): Injury/suspension information
- minutes (integer): Total minutes played
- goals, assists (integer): Goal contributions
- clean_sheets (integer): For GKP/DEF
- xG, xA (decimal): Expected goals/assists
- bonus (integer): Bonus points
- chance_of_playing (integer): 0-100%
```

**Inferred Smart Tags (OWL Classes):**
```
- CaptainCandidate: form >= 7.0 AND status = 'a'
- TransferTarget: form >= 5.0 AND points_per_price >= 12
- DifferentialPick: ownership < 10% AND form >= 5.0
- RotationRisk: minutes < 800 AND price > 6.0
- ValuePick: points_per_price >= 15
- PremiumAsset: price >= 10.0 AND form >= 6.0
- InjuryConcern: status != 'a' OR chance_of_playing < 75
- FormDifferential: form > points_per_game + 2
- MustBuy: form >= 6.0 AND points_per_price >= 12 AND status = 'a'
- SellUrgent: (form < 3.0 OR status != 'a') AND price > 5.0
- HighRecurrenceRisk: injury_type IN (hamstring, calf, groin)
- RecentlyReturned: recently_back_from_injury = true
```

### Is there a label or target associated with each instance?

Yes, multiple inferred labels (Smart Tags) are associated with each player based on OWL reasoning rules. These are not manually labeled but automatically inferred from player statistics.

### Is any information missing from individual instances?

- **xG/xA data**: May be null for players with insufficient minutes
- **News field**: Empty string if no current injury/news
- **Chance of playing**: Null if fully available (assumed 100%)

### Are relationships between instances made explicit?

Yes, through RDF object properties:
```turtle
fpl:playsFor      # Player → Team
fpl:hasPosition   # Player → Position  
fpl:hasFixture    # Team → Fixture
fpl:hasOpponent   # Fixture → Team
```

### Are there any errors, sources of noise, or redundancies?

- **Data freshness**: FPL API updates may have delays (cached for 5 minutes)
- **xG/xA accuracy**: External model estimates, not ground truth
- **Injury news**: Free-text field, parsed via regex (may miss edge cases)

### Is the dataset self-contained?

The core dataset is self-contained. Optional external enrichment via Wikidata (nationality, age, height) is fetched on-demand and not stored.

---

## Collection Process

### How was the data associated with each instance acquired?

Data is acquired via the **official FPL API**:
```
https://fantasy.premierleague.com/api/bootstrap-static/
```

This is the same API used by the official FPL website and mobile apps.

### What mechanisms were used to collect the data?

- **Python httpx**: Asynchronous HTTP client
- **Caching**: In-memory cache with 5-minute TTL
- **Transformation**: Raw JSON → Pydantic models → RDF triples

### If the dataset is a sample, what was the sampling strategy?

Not applicable - the dataset includes all FPL-registered players (complete population).

### Who was involved in the data collection process?

Automated collection from the official FPL API. No human annotation or labeling involved.

### Over what timeframe was the data collected?

- **Snapshot frequency**: Real-time (on API request)
- **Season scope**: 2024/25 Premier League season
- **Historical data**: Current season only (no historical seasons)

### Were any ethical review processes conducted?

No formal ethical review. The data is publicly available through the official FPL API and contains no private/sensitive information beyond what is publicly displayed on the FPL website.

---

## Preprocessing/Cleaning/Labeling

### Was any preprocessing/cleaning/labeling applied?

**Preprocessing steps:**
1. **Normalization**: Price converted from integer (45 = £4.5m) to decimal
2. **Position mapping**: Integer codes → string labels (1→GKP, 2→DEF, 3→MID, 4→FWD)
3. **Team resolution**: Team ID → Team name/short_name
4. **Status decoding**: Single character → full status description

**OWL Inference:**
- Smart Tags are automatically inferred by OWLRL reasoner
- No manual labeling performed

**News Parsing:**
- Regex-based extraction of injury type, duration, chance percentage
- Keyword matching for injury classification

### Was the "raw" data saved in addition to the preprocessed data?

The raw JSON from FPL API is not persisted. Only the transformed RDF representation is stored in-memory.

### Is the software used to preprocess the data available?

Yes, all preprocessing code is open source:
- `backend/services/fpl_service.py` - Data fetching and caching
- `backend/services/kg_service.py` - RDF transformation and OWL reasoning
- `backend/services/news_parser.py` - Injury news parsing

---

## Uses

### What tasks has the dataset been used for?

1. **Squad Building**: Generating optimal 15-player FPL squads
2. **Player Discovery**: Faceted search with OWL-inferred classifications
3. **Constraint Validation**: SHACL-based squad rule checking
4. **Player Comparison**: Finding similar players via SPARQL
5. **Explainability**: Provenance tracking for recommendations

### Is there a repository that links to papers or systems using this dataset?

- **GitHub**: [github.com/qazybekb/smartplayfpl](https://github.com/qazybekb/smartplayfpl)
- **Related Work**: FantasyKG academic paper (if published)

### What (other) tasks could the dataset be used for?

- Transfer market analysis
- Historical performance prediction
- Manager behavior analysis (ownership trends)
- Fixture difficulty modeling
- Position-specific player comparison

### Is there anything about the composition that might impact future uses?

- **Temporal validity**: Data is only valid for current season
- **API dependency**: Dataset cannot exist without FPL API access
- **English-centric**: Player names and teams are Premier League specific

### Are there tasks for which the dataset should not be used?

- **Gambling/Betting**: This dataset is for entertainment purposes only
- **Player valuation**: FPL prices don't reflect real transfer values
- **Injury prediction**: News field is informational, not medical

---

## Distribution

### How will the dataset be distributed?

- **Format**: In-memory RDF graph (not distributed as static file)
- **Access**: Via REST API endpoints
- **Serialization available**: Turtle, JSON-LD, N-Triples (on request)

### When will the dataset be distributed?

The dataset is available in real-time when the SmartPlayFPL application is running.

### Will the dataset be distributed under a copyright or IP license?

- **Code**: MIT License
- **Data**: Subject to FPL API Terms of Service
- **Ontology**: CC BY 4.0

### Have any third parties imposed IP-based or other restrictions?

The FPL API is provided by the Premier League. While publicly accessible, commercial use may require permission. This project is for educational/personal use.

---

## Maintenance

### Who will be supporting/hosting/maintaining the dataset?

- **Maintainer**: Qazybek Beken
- **Contact**: Via GitHub Issues

### How can the owner/curator be contacted?

- GitHub: [@qazybekb](https://github.com/qazybekb)
- Repository Issues: [github.com/qazybekb/smartplayfpl/issues](https://github.com/qazybekb/smartplayfpl/issues)

### Will the dataset be updated?

Yes, the dataset updates in real-time:
- **Frequency**: Every API request (with 5-minute cache)
- **Season reset**: New season data available August each year
- **Gameweek updates**: After each Premier League matchday

### Will older versions be supported/available?

No, only current season data is maintained. Historical snapshots are not preserved.

### How will updates be communicated?

Updates are automatic via the FPL API. No manual communication required.

---

## Technical Specifications

### Ontology

```turtle
@prefix fpl: <http://fantasykg.org/ontology#> .

# Core Classes
fpl:Player, fpl:Team, fpl:Fixture, fpl:Position

# Inferred Classes (Smart Tags)
fpl:CaptainCandidate, fpl:TransferTarget, fpl:DifferentialPick,
fpl:RotationRisk, fpl:ValuePick, fpl:PremiumAsset, fpl:InjuryConcern,
fpl:FormDifferential, fpl:MustBuy, fpl:SellUrgent

# Object Properties
fpl:playsFor, fpl:hasPosition, fpl:hasFixture, fpl:hasOpponent

# Data Properties
fpl:price, fpl:form, fpl:totalPoints, fpl:ownership, fpl:status,
fpl:goals, fpl:assists, fpl:cleanSheets, fpl:minutes, fpl:xG, fpl:xA
```

### SHACL Shapes

Squad validation constraints:
- Exactly 15 players
- Budget ≤ £100.0m
- 2 GKP, 5 DEF, 5 MID, 3 FWD
- Maximum 3 players per team
- Valid formation (e.g., 3-4-3, 4-4-2)

### Technology Stack

| Component | Technology |
|-----------|------------|
| RDF Storage | RDFLib (in-memory) |
| OWL Reasoning | OWLRL |
| SHACL Validation | PySHACL |
| Query Language | SPARQL 1.1 |
| External Linking | Wikidata SPARQL |
| API Framework | FastAPI |
| Frontend | Next.js + React |

---

## Citation

If you use this dataset or the SmartPlayFPL system, please cite:

```bibtex
@software{smartplayfpl2024,
  author = {Beken, Qazybek},
  title = {SmartPlayFPL: A Knowledge Graph for Fantasy Premier League},
  year = {2024},
  url = {https://github.com/qazybekb/smartplayfpl},
  note = {RDF/OWL/SHACL-based FPL decision support system}
}
```

---

*This datasheet follows the template proposed in: Gebru, T., et al. (2021). Datasheets for Datasets. Communications of the ACM, 64(12), 86-92.*

